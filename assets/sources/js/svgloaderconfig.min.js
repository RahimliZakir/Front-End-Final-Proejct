TweenMax.set("#circlePath",{attr:{r:document.querySelector("#mainCircle").getAttribute("r")}}),MorphSVGPlugin.convertToPath("#circlePath");var xmlns="http://www.w3.org/2000/svg",xlinkns="http://www.w3.org/1999/xlink",select=function(e){return document.querySelector(e)},selectAll=function(e){return document.querySelectorAll(e)},mainCircle=select("#mainCircle"),mainContainer=select("#mainContainer"),car=select("#car"),mainSVG=select(".mainSVG"),mainCircleRadius=Number(mainCircle.getAttribute("r")),numDots=mainCircleRadius/2,step=360/numDots,dotMin=0,circlePath=select("#circlePath");TweenMax.set("svg",{visibility:"visible"}),TweenMax.set([car],{transformOrigin:"50% 50%"}),TweenMax.set("#carRot",{transformOrigin:"0% 0%",rotation:30});var circleBezier=MorphSVGPlugin.pathDataToBezier(circlePath.getAttribute("d"),{offsetX:-20,offsetY:-5}),mainTl=new TimelineMax;function makeDots(){for(var e,t,a,i=0;i<numDots;i++)e=select("#puff").cloneNode(!0),mainContainer.appendChild(e),t=step*i,TweenMax.set(e,{x:Math.cos(t*Math.PI/180)*mainCircleRadius+400,y:Math.sin(t*Math.PI/180)*mainCircleRadius+300,rotation:360*Math.random(),transformOrigin:"50% 50%"}),(a=new TimelineMax({repeat:-1})).from(e,.2,{scale:0,ease:Power4.easeIn}).to(e,1.8,{scale:Math.random()+2,alpha:0,ease:Power4.easeOut}),mainTl.add(a,i/(numDots/a.duration()));var n=new TimelineMax({repeat:-1});n.to(car,a.duration(),{bezier:{type:"cubic",values:circleBezier,autoRotate:!0},ease:Linear.easeNone}),mainTl.add(n,.05)}makeDots(),mainTl.time(120),TweenMax.to(mainContainer,20,{rotation:-360,svgOrigin:"400 300",repeat:-1,ease:Linear.easeNone}),mainTl.timeScale(1.1);